<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2022-09-23">

<title>Paul Jacobson - Cyclistic Customer Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../css/main.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Paul Jacobson</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">Home</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html">projects.</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">about</a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/pajacobson"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/paul-jacobson-15b069247/"><i class="bi bi-linkedin" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#data-sources" id="toc-data-sources" class="nav-link" data-scroll-target="#data-sources">Data sources</a></li>
  <li><a href="#data-cleaning-and-preparation" id="toc-data-cleaning-and-preparation" class="nav-link" data-scroll-target="#data-cleaning-and-preparation">Data cleaning and preparation</a>
  <ul class="collapse">
  <li><a href="#initial-import" id="toc-initial-import" class="nav-link" data-scroll-target="#initial-import">Initial import</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Cyclistic Customer Analysis</h1>
<p class="subtitle lead">Google Data Analytics Certificate Capstone</p>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 23, 2022</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="introduction" class="level2">
<h2 data-anchor-id="introduction">Introduction</h2>
<p>This analysis examines the question:</p>
<blockquote class="blockquote">
<p>How do annual members and casual riders use Cyclistic bikes differently?</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>variable_charge <span class="ot">&lt;-</span> <span class="cf">function</span>(rate, free_min, duration) {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  rate <span class="sc">*</span> (<span class="fu">as.numeric</span>(duration) <span class="sc">/</span> <span class="dv">60</span> <span class="sc">-</span> free_min)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<p>casual - single trip $3.30 + 30 minutes then $0.15 pm y = 3.3 + 0.15 * clamp(t - 30, lower = 0)</p>
<p>casual - day pass $15.00 + unlimited 3hrs then $0.16 y = 15 + 0.16 * clamp(t - 180, lower = 0)</p>
<p>casual - electric $1.00 + 0.39 pm y = 1 + 0.39 * t</p>
<p>member - electric $10 month, $0 + 0.16 pm y = 0.16 * t</p>
<p>member - classic (unlimited 45 min) $10 month, $0 + 45min + 0.16 pm y = 10/n + 0.16 * clamp(t - 45, lower = 0)</p>
</section>
<section id="data-sources" class="level2">
<h2 data-anchor-id="data-sources">Data sources</h2>
<p>Three primary data sources were used for the analysis:</p>
<ul>
<li><p>Divvy Bikes ride data</p>
<p>Monthly data files from September 2021 to August 2022. Additional data description and download link can be found on the <a href="https://ride.divvybikes.com/system-data">system data</a> page.</p></li>
<li><p>Divvy Bikes website</p>
<p>Details of time limits and charges for current <a href="https://ride.divvybikes.com/pricing">casual and membership plans</a>.</p></li>
<li><p>Divvy Bikes active stations</p></li>
</ul>
<p>https://data.cityofchicago.org/Transportation/Divvy-Bicycle-Stations/bbyy-e7gq</p>
<ul>
<li><p>NOAA Daily weather records</p>
<p>Weather data covering September 2021 to August 2022.</p>
<p>O’Hare International Airport weather station was selected as representative of the Chicago region.</p></li>
</ul>
</section>
<section id="data-cleaning-and-preparation" class="level2">
<h2 data-anchor-id="data-cleaning-and-preparation">Data cleaning and preparation</h2>
<section id="initial-import" class="level3">
<h3 data-anchor-id="initial-import">Initial import</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glue)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(archive)</span></code></pre></div>
</div>
<p>The Divvy trip data files have a consistent naming format prefixed with numeric year and month. A list of data file names is generated for months in the range <code>start_date</code> to <code>end_date</code>.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>01_import_clean.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb3" data-caption="Building file list"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>start_date <span class="ot">&lt;-</span> <span class="st">"2021-09"</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>end_date <span class="ot">&lt;-</span> <span class="st">"2022-08"</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>divvy_files <span class="ot">&lt;-</span> <span class="fu">seq</span>(</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ym</span>(start_date),</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ym</span>(end_date),</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">"months"</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">enframe</span>(</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">value =</span> <span class="st">"timestamp"</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glue_data</span>(</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"{year(timestamp)}"</span>,</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"{stringi::stri_sprintf('%02d', month(timestamp))}"</span>,</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"-divvy-tripdata.zip"</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
</div>
</div>
<p>All original zip files are downloaded to the <code>divy_data/raw</code> folder to ensure there is an unmodified copy of the data. Any files that are already present are not download again.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>divvy_downloaded <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"divy_data/raw/{divvy_files}"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>to_dl <span class="ot">&lt;-</span> divvy_files[<span class="sc">!</span><span class="fu">file.exists</span>(divvy_downloaded)]</span></code></pre></div>
</div>
<p>Required data files that are missing from the raw data folder are downloaded.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(to_dl) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glue</span>(<span class="st">"https://divvy-tripdata.s3.amazonaws.com/{to_dl}"</span>),</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glue</span>(<span class="st">"data/raw/{to_dl}"</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<p>Note that the preceding section will not execute correctly in a Quarto document. A script for the full import process is provided in the supporting material.</p>
<p>To check the downloaded file data, 1000 rows are read from the oldest file and column specification inspected.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>bike_inspect <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  divvy_downloaded[<span class="dv">1</span>],</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> <span class="fu">archive_read</span>(.) <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">read_csv</span>(</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">n_max =</span> <span class="dv">1000</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">show_col_types =</span> <span class="cn">FALSE</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span>(bike_inspect)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>cols(
  ride_id = col_character(),
  rideable_type = col_character(),
  started_at = col_datetime(format = ""),
  ended_at = col_datetime(format = ""),
  start_station_name = col_character(),
  start_station_id = col_character(),
  end_station_name = col_character(),
  end_station_id = col_character(),
  start_lat = col_double(),
  start_lng = col_double(),
  end_lat = col_double(),
  end_lng = col_double(),
  member_casual = col_character()
)</code></pre>
</div>
</div>
<p>The first row from all data files is read to check for consistent naming and columns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>bike_headers <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  divvy_downloaded,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> <span class="fu">archive_read</span>(.) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">read_csv</span>(</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">id =</span> <span class="st">"filename"</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">n_max =</span> <span class="dv">1</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">col_names =</span> <span class="cn">FALSE</span>,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">show_col_types =</span> <span class="cn">FALSE</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(bike_headers)</span></code></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 26%">
<col style="width: 3%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">filename</th>
<th style="text-align: left;">X1</th>
<th style="text-align: left;">X2</th>
<th style="text-align: left;">X3</th>
<th style="text-align: left;">X4</th>
<th style="text-align: left;">X5</th>
<th style="text-align: left;">X6</th>
<th style="text-align: left;">X7</th>
<th style="text-align: left;">X8</th>
<th style="text-align: left;">X9</th>
<th style="text-align: left;">X10</th>
<th style="text-align: left;">X11</th>
<th style="text-align: left;">X12</th>
<th style="text-align: left;">X13</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">archive_read(divy_data/raw/202109-divvy-tripdata.zip)[1]</td>
<td style="text-align: left;">ride_id</td>
<td style="text-align: left;">rideable_type</td>
<td style="text-align: left;">started_at</td>
<td style="text-align: left;">ended_at</td>
<td style="text-align: left;">start_station_name</td>
<td style="text-align: left;">start_station_id</td>
<td style="text-align: left;">end_station_name</td>
<td style="text-align: left;">end_station_id</td>
<td style="text-align: left;">start_lat</td>
<td style="text-align: left;">start_lng</td>
<td style="text-align: left;">end_lat</td>
<td style="text-align: left;">end_lng</td>
<td style="text-align: left;">member_casual</td>
</tr>
<tr class="even">
<td style="text-align: left;">archive_read(divy_data/raw/202110-divvy-tripdata.zip)[1]</td>
<td style="text-align: left;">ride_id</td>
<td style="text-align: left;">rideable_type</td>
<td style="text-align: left;">started_at</td>
<td style="text-align: left;">ended_at</td>
<td style="text-align: left;">start_station_name</td>
<td style="text-align: left;">start_station_id</td>
<td style="text-align: left;">end_station_name</td>
<td style="text-align: left;">end_station_id</td>
<td style="text-align: left;">start_lat</td>
<td style="text-align: left;">start_lng</td>
<td style="text-align: left;">end_lat</td>
<td style="text-align: left;">end_lng</td>
<td style="text-align: left;">member_casual</td>
</tr>
<tr class="odd">
<td style="text-align: left;">archive_read(divy_data/raw/202111-divvy-tripdata.zip)[1]</td>
<td style="text-align: left;">ride_id</td>
<td style="text-align: left;">rideable_type</td>
<td style="text-align: left;">started_at</td>
<td style="text-align: left;">ended_at</td>
<td style="text-align: left;">start_station_name</td>
<td style="text-align: left;">start_station_id</td>
<td style="text-align: left;">end_station_name</td>
<td style="text-align: left;">end_station_id</td>
<td style="text-align: left;">start_lat</td>
<td style="text-align: left;">start_lng</td>
<td style="text-align: left;">end_lat</td>
<td style="text-align: left;">end_lng</td>
<td style="text-align: left;">member_casual</td>
</tr>
<tr class="even">
<td style="text-align: left;">archive_read(divy_data/raw/202112-divvy-tripdata.zip)[1]</td>
<td style="text-align: left;">ride_id</td>
<td style="text-align: left;">rideable_type</td>
<td style="text-align: left;">started_at</td>
<td style="text-align: left;">ended_at</td>
<td style="text-align: left;">start_station_name</td>
<td style="text-align: left;">start_station_id</td>
<td style="text-align: left;">end_station_name</td>
<td style="text-align: left;">end_station_id</td>
<td style="text-align: left;">start_lat</td>
<td style="text-align: left;">start_lng</td>
<td style="text-align: left;">end_lat</td>
<td style="text-align: left;">end_lng</td>
<td style="text-align: left;">member_casual</td>
</tr>
<tr class="odd">
<td style="text-align: left;">archive_read(divy_data/raw/202201-divvy-tripdata.zip)[1]</td>
<td style="text-align: left;">ride_id</td>
<td style="text-align: left;">rideable_type</td>
<td style="text-align: left;">started_at</td>
<td style="text-align: left;">ended_at</td>
<td style="text-align: left;">start_station_name</td>
<td style="text-align: left;">start_station_id</td>
<td style="text-align: left;">end_station_name</td>
<td style="text-align: left;">end_station_id</td>
<td style="text-align: left;">start_lat</td>
<td style="text-align: left;">start_lng</td>
<td style="text-align: left;">end_lat</td>
<td style="text-align: left;">end_lng</td>
<td style="text-align: left;">member_casual</td>
</tr>
<tr class="even">
<td style="text-align: left;">archive_read(divy_data/raw/202202-divvy-tripdata.zip)[1]</td>
<td style="text-align: left;">ride_id</td>
<td style="text-align: left;">rideable_type</td>
<td style="text-align: left;">started_at</td>
<td style="text-align: left;">ended_at</td>
<td style="text-align: left;">start_station_name</td>
<td style="text-align: left;">start_station_id</td>
<td style="text-align: left;">end_station_name</td>
<td style="text-align: left;">end_station_id</td>
<td style="text-align: left;">start_lat</td>
<td style="text-align: left;">start_lng</td>
<td style="text-align: left;">end_lat</td>
<td style="text-align: left;">end_lng</td>
<td style="text-align: left;">member_casual</td>
</tr>
<tr class="odd">
<td style="text-align: left;">archive_read(divy_data/raw/202203-divvy-tripdata.zip)[1]</td>
<td style="text-align: left;">ride_id</td>
<td style="text-align: left;">rideable_type</td>
<td style="text-align: left;">started_at</td>
<td style="text-align: left;">ended_at</td>
<td style="text-align: left;">start_station_name</td>
<td style="text-align: left;">start_station_id</td>
<td style="text-align: left;">end_station_name</td>
<td style="text-align: left;">end_station_id</td>
<td style="text-align: left;">start_lat</td>
<td style="text-align: left;">start_lng</td>
<td style="text-align: left;">end_lat</td>
<td style="text-align: left;">end_lng</td>
<td style="text-align: left;">member_casual</td>
</tr>
<tr class="even">
<td style="text-align: left;">archive_read(divy_data/raw/202204-divvy-tripdata.zip)[1]</td>
<td style="text-align: left;">ride_id</td>
<td style="text-align: left;">rideable_type</td>
<td style="text-align: left;">started_at</td>
<td style="text-align: left;">ended_at</td>
<td style="text-align: left;">start_station_name</td>
<td style="text-align: left;">start_station_id</td>
<td style="text-align: left;">end_station_name</td>
<td style="text-align: left;">end_station_id</td>
<td style="text-align: left;">start_lat</td>
<td style="text-align: left;">start_lng</td>
<td style="text-align: left;">end_lat</td>
<td style="text-align: left;">end_lng</td>
<td style="text-align: left;">member_casual</td>
</tr>
<tr class="odd">
<td style="text-align: left;">archive_read(divy_data/raw/202205-divvy-tripdata.zip)[1]</td>
<td style="text-align: left;">ride_id</td>
<td style="text-align: left;">rideable_type</td>
<td style="text-align: left;">started_at</td>
<td style="text-align: left;">ended_at</td>
<td style="text-align: left;">start_station_name</td>
<td style="text-align: left;">start_station_id</td>
<td style="text-align: left;">end_station_name</td>
<td style="text-align: left;">end_station_id</td>
<td style="text-align: left;">start_lat</td>
<td style="text-align: left;">start_lng</td>
<td style="text-align: left;">end_lat</td>
<td style="text-align: left;">end_lng</td>
<td style="text-align: left;">member_casual</td>
</tr>
<tr class="even">
<td style="text-align: left;">archive_read(divy_data/raw/202206-divvy-tripdata.zip)[1]</td>
<td style="text-align: left;">ride_id</td>
<td style="text-align: left;">rideable_type</td>
<td style="text-align: left;">started_at</td>
<td style="text-align: left;">ended_at</td>
<td style="text-align: left;">start_station_name</td>
<td style="text-align: left;">start_station_id</td>
<td style="text-align: left;">end_station_name</td>
<td style="text-align: left;">end_station_id</td>
<td style="text-align: left;">start_lat</td>
<td style="text-align: left;">start_lng</td>
<td style="text-align: left;">end_lat</td>
<td style="text-align: left;">end_lng</td>
<td style="text-align: left;">member_casual</td>
</tr>
<tr class="odd">
<td style="text-align: left;">archive_read(divy_data/raw/202207-divvy-tripdata.zip)[1]</td>
<td style="text-align: left;">ride_id</td>
<td style="text-align: left;">rideable_type</td>
<td style="text-align: left;">started_at</td>
<td style="text-align: left;">ended_at</td>
<td style="text-align: left;">start_station_name</td>
<td style="text-align: left;">start_station_id</td>
<td style="text-align: left;">end_station_name</td>
<td style="text-align: left;">end_station_id</td>
<td style="text-align: left;">start_lat</td>
<td style="text-align: left;">start_lng</td>
<td style="text-align: left;">end_lat</td>
<td style="text-align: left;">end_lng</td>
<td style="text-align: left;">member_casual</td>
</tr>
<tr class="even">
<td style="text-align: left;">archive_read(divy_data/raw/202208-divvy-tripdata.zip)[1]</td>
<td style="text-align: left;">ride_id</td>
<td style="text-align: left;">rideable_type</td>
<td style="text-align: left;">started_at</td>
<td style="text-align: left;">ended_at</td>
<td style="text-align: left;">start_station_name</td>
<td style="text-align: left;">start_station_id</td>
<td style="text-align: left;">end_station_name</td>
<td style="text-align: left;">end_station_id</td>
<td style="text-align: left;">start_lat</td>
<td style="text-align: left;">start_lng</td>
<td style="text-align: left;">end_lat</td>
<td style="text-align: left;">end_lng</td>
<td style="text-align: left;">member_casual</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>After checking the detected formats, and ensuring the column naming is consistent across all files, data is read from the zip files using a defined column specification. Data not matching the defined format will raise a warning from the import process.</p>
<p>The date columns are set to import as strings as <code>readr::col_datetime</code> does not provide a way to specify timezone.</p>
<div class="cell" data-hash="cyclistic_cache/html/unnamed-chunk-7_7483c979331fdd31202c1f5af1460b52">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>bike_rides <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  divvy_downloaded,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> <span class="fu">archive_read</span>(.) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">read_csv</span>(</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">col_types =</span> <span class="fu">cols</span>(</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">ride_id =</span> <span class="fu">col_character</span>(),</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">rideable_type =</span> <span class="fu">col_factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>          <span class="st">"classic_bike"</span>,</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>          <span class="st">"docked_bike"</span>,</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>          <span class="st">"electric_bike"</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>        )),</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">started_at =</span> <span class="fu">col_datetime</span>(),</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">ended_at =</span> <span class="fu">col_datetime</span>(),</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">start_station_name =</span> <span class="fu">col_character</span>(),</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">start_station_id =</span> <span class="fu">col_character</span>(),</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">end_station_name =</span> <span class="fu">col_character</span>(),</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">end_station_id =</span> <span class="fu">col_character</span>(),</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">start_lat =</span> <span class="fu">col_double</span>(),</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">start_lng =</span> <span class="fu">col_double</span>(),</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">end_lat =</span> <span class="fu">col_double</span>(),</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">end_lng =</span> <span class="fu">col_double</span>(),</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">member_casual =</span> <span class="fu">col_factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>          <span class="st">"member"</span>,</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>          <span class="st">"casual"</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>        ))</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">tz =</span> <span class="st">"America/Chicago"</span>)</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">slice_sample</span>(bike_rides, <span class="at">n =</span> <span class="dv">10</span>))</span></code></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 12%">
<col style="width: 7%">
<col style="width: 17%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">ride_id</th>
<th style="text-align: left;">rideable_type</th>
<th style="text-align: left;">started_at</th>
<th style="text-align: left;">ended_at</th>
<th style="text-align: left;">start_station_name</th>
<th style="text-align: left;">start_station_id</th>
<th style="text-align: left;">end_station_name</th>
<th style="text-align: left;">end_station_id</th>
<th style="text-align: right;">start_lat</th>
<th style="text-align: right;">start_lng</th>
<th style="text-align: right;">end_lat</th>
<th style="text-align: right;">end_lng</th>
<th style="text-align: left;">member_casual</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2375ADB74CCB7C4D</td>
<td style="text-align: left;">classic_bike</td>
<td style="text-align: left;">2022-02-12 15:59:04</td>
<td style="text-align: left;">2022-02-12 16:01:39</td>
<td style="text-align: left;">Damen Ave &amp; Pierce Ave</td>
<td style="text-align: left;">TA1305000041</td>
<td style="text-align: left;">Damen Ave &amp; Pierce Ave</td>
<td style="text-align: left;">TA1305000041</td>
<td style="text-align: right;">41.90940</td>
<td style="text-align: right;">-87.67769</td>
<td style="text-align: right;">41.90940</td>
<td style="text-align: right;">-87.67769</td>
<td style="text-align: left;">member</td>
</tr>
<tr class="even">
<td style="text-align: left;">E0605D3902A16F41</td>
<td style="text-align: left;">classic_bike</td>
<td style="text-align: left;">2022-08-17 16:31:37</td>
<td style="text-align: left;">2022-08-17 17:03:16</td>
<td style="text-align: left;">Streeter Dr &amp; Grand Ave</td>
<td style="text-align: left;">13022</td>
<td style="text-align: left;">DuSable Lake Shore Dr &amp; Diversey Pkwy</td>
<td style="text-align: left;">TA1309000039</td>
<td style="text-align: right;">41.89228</td>
<td style="text-align: right;">-87.61204</td>
<td style="text-align: right;">41.93259</td>
<td style="text-align: right;">-87.63643</td>
<td style="text-align: left;">member</td>
</tr>
<tr class="odd">
<td style="text-align: left;">762886DE9838834C</td>
<td style="text-align: left;">electric_bike</td>
<td style="text-align: left;">2021-09-16 18:48:52</td>
<td style="text-align: left;">2021-09-16 19:03:27</td>
<td style="text-align: left;">Clarendon Ave &amp; Junior Ter</td>
<td style="text-align: left;">13389</td>
<td style="text-align: left;">Clark St &amp; Bryn Mawr Ave</td>
<td style="text-align: left;">KA1504000151</td>
<td style="text-align: right;">41.96099</td>
<td style="text-align: right;">-87.64949</td>
<td style="text-align: right;">41.98353</td>
<td style="text-align: right;">-87.66897</td>
<td style="text-align: left;">casual</td>
</tr>
<tr class="even">
<td style="text-align: left;">4A2AD66C38F0084C</td>
<td style="text-align: left;">electric_bike</td>
<td style="text-align: left;">2021-10-20 10:41:13</td>
<td style="text-align: left;">2021-10-20 12:54:17</td>
<td style="text-align: left;">Wells St &amp; Hubbard St</td>
<td style="text-align: left;">TA1307000151</td>
<td style="text-align: left;">Wells St &amp; Huron St</td>
<td style="text-align: left;">TA1306000012</td>
<td style="text-align: right;">41.89008</td>
<td style="text-align: right;">-87.63429</td>
<td style="text-align: right;">41.89465</td>
<td style="text-align: right;">-87.63435</td>
<td style="text-align: left;">member</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AD9F8BF6098F4644</td>
<td style="text-align: left;">classic_bike</td>
<td style="text-align: left;">2021-11-26 15:13:01</td>
<td style="text-align: left;">2021-11-26 15:16:12</td>
<td style="text-align: left;">Streeter Dr &amp; Grand Ave</td>
<td style="text-align: left;">13022</td>
<td style="text-align: left;">Streeter Dr &amp; Grand Ave</td>
<td style="text-align: left;">13022</td>
<td style="text-align: right;">41.89228</td>
<td style="text-align: right;">-87.61204</td>
<td style="text-align: right;">41.89228</td>
<td style="text-align: right;">-87.61204</td>
<td style="text-align: left;">casual</td>
</tr>
<tr class="even">
<td style="text-align: left;">3B1B7A2FFD779F55</td>
<td style="text-align: left;">electric_bike</td>
<td style="text-align: left;">2022-01-06 19:35:47</td>
<td style="text-align: left;">2022-01-06 20:00:12</td>
<td style="text-align: left;">Leavitt St &amp; Armitage Ave</td>
<td style="text-align: left;">TA1309000029</td>
<td style="text-align: left;">Leavitt St &amp; Belmont Ave</td>
<td style="text-align: left;">KA17018068</td>
<td style="text-align: right;">41.91783</td>
<td style="text-align: right;">-87.68246</td>
<td style="text-align: right;">41.93935</td>
<td style="text-align: right;">-87.68328</td>
<td style="text-align: left;">casual</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1388163B867839B4</td>
<td style="text-align: left;">electric_bike</td>
<td style="text-align: left;">2022-03-08 18:11:46</td>
<td style="text-align: left;">2022-03-08 18:31:48</td>
<td style="text-align: left;">Clark St &amp; Bryn Mawr Ave</td>
<td style="text-align: left;">KA1504000151</td>
<td style="text-align: left;">Wilton Ave &amp; Belmont Ave</td>
<td style="text-align: left;">TA1307000134</td>
<td style="text-align: right;">41.98357</td>
<td style="text-align: right;">-87.66922</td>
<td style="text-align: right;">41.94018</td>
<td style="text-align: right;">-87.65304</td>
<td style="text-align: left;">member</td>
</tr>
<tr class="even">
<td style="text-align: left;">7B2F2AE67D0BB49B</td>
<td style="text-align: left;">classic_bike</td>
<td style="text-align: left;">2021-09-09 20:23:26</td>
<td style="text-align: left;">2021-09-09 20:38:56</td>
<td style="text-align: left;">Wells St &amp; Elm St</td>
<td style="text-align: left;">KA1504000135</td>
<td style="text-align: left;">New St &amp; Illinois St</td>
<td style="text-align: left;">TA1306000013</td>
<td style="text-align: right;">41.90322</td>
<td style="text-align: right;">-87.63432</td>
<td style="text-align: right;">41.89085</td>
<td style="text-align: right;">-87.61862</td>
<td style="text-align: left;">member</td>
</tr>
<tr class="odd">
<td style="text-align: left;">35A5359600824CDA</td>
<td style="text-align: left;">electric_bike</td>
<td style="text-align: left;">2021-11-17 08:10:15</td>
<td style="text-align: left;">2021-11-17 08:16:49</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">Clark St &amp; Lincoln Ave</td>
<td style="text-align: left;">13179</td>
<td style="text-align: right;">41.93000</td>
<td style="text-align: right;">-87.64000</td>
<td style="text-align: right;">41.91586</td>
<td style="text-align: right;">-87.63470</td>
<td style="text-align: left;">member</td>
</tr>
<tr class="even">
<td style="text-align: left;">30B0694376059479</td>
<td style="text-align: left;">classic_bike</td>
<td style="text-align: left;">2022-06-13 14:22:54</td>
<td style="text-align: left;">2022-06-13 14:33:53</td>
<td style="text-align: left;">Wells St &amp; Huron St</td>
<td style="text-align: left;">TA1306000012</td>
<td style="text-align: left;">Clinton St &amp; Lake St</td>
<td style="text-align: left;">13021</td>
<td style="text-align: right;">41.89472</td>
<td style="text-align: right;">-87.63436</td>
<td style="text-align: right;">41.88564</td>
<td style="text-align: right;">-87.64182</td>
<td style="text-align: left;">member</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The sample of data shows that some station names and station id’s are missing. The missing stations do have latitude and longitude values, however on closer inspection the values appear to these have been rounded to two decimal places.</p>
<p>This suggests that part of the data set may have been anonymised or obfuscated deliberately.</p>


</section>
</section>

</main> <!-- /main -->
</div> <!-- /content -->



</body></html>